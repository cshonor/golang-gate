# fmt.Printf 中空格的处理

## 重要概念

**在 `fmt.Printf` 中，所有的空格都会被打印出来，并且都算在字符长度里。**

## 1. 字符串中直接写的空格

### 说明
- 在双引号 `""` 中直接写的空格会**原样打印**
- 多个空格也会原样打印

### 示例
```go
fmt.Printf("火星 体重：%.2f\n", 62.04)     // "火星" 和 "体重" 之间的空格会显示
fmt.Printf("地球 年龄：%d 年\n", 41)       // "地球" 和 "年龄" 之间的空格会显示
fmt.Printf("火星    体重：%.2f\n", 62.04)  // 多个空格都会显示
```

## 2. 占位符补的空格

### 说明
- 占位符为了对齐而补的空格也会**被打印出来**
- 这些空格虽然看不见，但它们确实存在

### 右对齐（前面补空格）
```go
fmt.Printf("[%10.2f]\n", 62.04)   // 前面补4个空格（总宽度10，数字占6位）
// 输出：[    62.04]
```

### 左对齐（后面补空格）
```go
fmt.Printf("[%-10.2f]\n", 62.04)  // 后面补4个空格（总宽度10，数字占6位）
// 输出：[62.04    ]
```

## 3. 空格都算在字符长度里

### 说明
- 无论是字符串中的空格，还是占位符补的空格，都**算在总字符长度里**
- 这就是为什么能实现对齐效果

### 示例
```go
value := 62.04

// 总宽度10，包括：
// - 数字本身：6个字符（6、2、.、0、4）
// - 补的空格：4个字符
// 总共：10个字符
fmt.Printf("[%10.2f]\n", value)   // [    62.04]
```

## 4. 实际应用：表格对齐

### 原理
表格对齐就是利用占位符补的空格来实现的。

### 示例
```go
// 表头
fmt.Printf("%-10s %10s %10s\n", "姓名", "年龄", "体重")
fmt.Println("----------------------------------------")

// 数据行
fmt.Printf("%-10s %10d %10.2f\n", "张三", 25, 70.5)
fmt.Printf("%-10s %10d %10.2f\n", "李四", 30, 75.8)
```

### 对齐原理
- `%-10s`：姓名左对齐，后面补空格（凑够10个字符）
- `%10d`：年龄右对齐，前面补空格（凑够10个字符）
- `%10.2f`：体重右对齐，前面补空格（凑够10个字符）

因为每列都占10个字符（包括补的空格），所以能对齐。

## 5. 对比：有空格 vs 没有空格

### 没有控制宽度（不对齐）
```go
fmt.Printf("体重：%.2f\n", 62.04)
fmt.Printf("体重：%.2f\n", 123.45)
fmt.Printf("体重：%.2f\n", 5.6)
```
输出：
```
体重：62.04
体重：123.45
体重：5.60
```
**不对齐**，因为数字长度不同。

### 控制宽度（对齐）
```go
fmt.Printf("体重：%10.2f\n", 62.04)
fmt.Printf("体重：%10.2f\n", 123.45)
fmt.Printf("体重：%10.2f\n", 5.6)
```
输出：
```
体重：    62.04
体重：   123.45
体重：     5.60
```
**对齐**，因为占位符补了空格。

## 6. 组合：字符串空格 + 占位符空格

### 说明
字符串中的空格和占位符补的空格**都会显示**，并且**都算在字符长度里**。

### 示例
```go
fmt.Printf("火星 体重：[%10.2f] 公斤\n", 62.04)
```
- `"火星 体重："` 中的空格会显示
- `%10.2f` 前面补的空格也会显示
- 所有这些空格都被打印出来了

## 7. 验证空格的存在

### 方法1：用方括号包围
```go
fmt.Printf("[%10.2f]\n", 62.04)   // [    62.04]
```
可以看到数字前面确实有空格。

### 方法2：用单引号包围
```go
fmt.Printf("'%10.2f'\n", 62.04)   // '    62.04'
```
可以更清楚地看到空格的位置。

## 8. 总结

| 空格类型 | 是否打印 | 是否算长度 | 作用 |
|---------|---------|-----------|------|
| 字符串中的空格 | ✅ 是 | ✅ 是 | 分隔文字 |
| 占位符补的空格（右对齐） | ✅ 是 | ✅ 是 | 前面补空格，实现右对齐 |
| 占位符补的空格（左对齐） | ✅ 是 | ✅ 是 | 后面补空格，实现左对齐 |

### 关键点
1. **所有空格都会被打印**，包括字符串中的和占位符补的
2. **所有空格都算在字符长度里**，这就是对齐的原理
3. **对齐效果就是靠补空格实现的**，让每列的总宽度相同

## 9. 注意事项

1. **空格是可见的**：虽然补的空格看起来不明显，但它们确实存在
2. **空格影响对齐**：如果宽度设置不对，对齐效果会受影响
3. **空格算长度**：计算总宽度时，要把空格也算进去

