# fmt.Printf 格式化输出详解

## 1. 基本占位符

| 占位符 | 说明 | 示例 |
|--------|------|------|
| `%s` | 字符串 | `fmt.Printf("名字：%s", "张三")` |
| `%d` | 整数 | `fmt.Printf("年龄：%d", 25)` |
| `%f` | 浮点数（默认6位小数） | `fmt.Printf("体重：%f", 164.0)` |
| `%t` | 布尔值 | `fmt.Printf("是学生：%t", true)` |
| `%v` | 自动识别类型（通用） | `fmt.Printf("值：%v", 任何类型)` |

## 2. 控制小数位数：`%.nf`

- `%.nf` 中的 `n` 表示保留 `n` 位小数
- 小数点后的数字会被四舍五入

### 示例
```go
value := 62.0412
fmt.Printf("%.1f\n", value)  // 输出：62.0
fmt.Printf("%.2f\n", value)  // 输出：62.04
fmt.Printf("%.4f\n", value)  // 输出：62.0412
```

## 3. 控制总宽度：`%nf`

- `%nf` 中的 `n` 表示整个数字（包括整数、小数点、小数部分）占 `n` 个字符宽度
- 如果数字长度不够 `n` 位，会在**前面补空格**（右对齐）
- 如果数字长度超过 `n` 位，会原样输出

### 示例
```go
fmt.Printf("[%4d]\n", 5)      // 输出：[   5]（前面3个空格）
fmt.Printf("[%4s]\n", "AB")   // 输出：[  AB]（前面2个空格）
fmt.Printf("[%4f]\n", 1.23)   // 输出：[1.230000]（超过4位，原样输出）
```

## 4. 左对齐：`%-nf`

- `%-nf` 中的减号 `-` 表示左对齐
- 如果数字长度不够 `n` 位，会在**后面补空格**

### 示例
```go
fmt.Printf("[%-15f]\n", 62.0412)  // 输出：[62.041200      ]（后面补空格）
fmt.Printf("[%-15s]\n", "张三")    // 输出：[张三             ]（后面补空格）
```

### 对比：右对齐（默认）vs 左对齐
```go
fmt.Printf("[%15f]\n", 62.0412)   // 右对齐：[      62.041200]
fmt.Printf("[%-15f]\n", 62.0412)  // 左对齐：[62.041200      ]
```

## 5. 组合使用：宽度 + 小数位数

### 格式：`%n.mf` 或 `%-n.mf`

- `n`：总宽度（包括整数、小数点、小数部分）
- `m`：保留的小数位数
- `-`：可选，表示左对齐

### 示例
```go
value := 62.0412
fmt.Printf("[%8.2f]\n", value)   // 输出：[   62.04]（右对齐，总宽度8，保留2位小数）
fmt.Printf("[%-8.2f]\n", value)  // 输出：[62.04   ]（左对齐，总宽度8，保留2位小数）
```

## 6. 多个占位符的顺序

### 重要规则
- **占位符和变量按顺序一一对应**
- 有几个占位符，后面就要跟几个对应的变量
- 顺序不能乱，否则输出会错

### 示例
```go
// 正确：按顺序对应
fmt.Printf("名字：%s，年龄：%d，体重：%.2f\n", "张三", 25, 70.5)
// 输出：名字：张三，年龄：25，体重：70.50

// 错误：顺序搞反了
fmt.Printf("名字：%s，年龄：%d\n", 25, "张三")  // 输出会错乱！
```

## 7. 实际应用示例

### 火星计算
```go
earthWeight := 164.0
marsWeight := earthWeight * 0.3783
earthAge := 41
marsAge := earthAge * 365 / 687

fmt.Printf("地球体重：%.1f 磅，火星体重：%.2f 磅\n", earthWeight, marsWeight)
fmt.Printf("地球年龄：%d 年，火星年龄：%d 年\n", earthAge, marsAge)
```

### 表格对齐
```go
fmt.Printf("%-10s %10s %10s\n", "姓名", "年龄", "体重")
fmt.Println("----------------------------------------")
fmt.Printf("%-10s %10d %10.2f\n", "张三", 25, 70.5)
fmt.Printf("%-10s %10d %10.2f\n", "李四", 30, 75.8)
```

输出：
```
姓名           年龄        体重
----------------------------------------
张三             25      70.50
李四             30      75.80
```

## 8. 常用格式总结

| 格式 | 说明 | 示例输出 |
|------|------|----------|
| `%s` | 字符串 | `张三` |
| `%d` | 整数 | `25` |
| `%.2f` | 保留2位小数 | `62.04` |
| `%8.2f` | 总宽度8，保留2位小数（右对齐） | `   62.04` |
| `%-8.2f` | 总宽度8，保留2位小数（左对齐） | `62.04   ` |
| `%-15s` | 左对齐，总宽度15 | `张三             ` |
| `%15s` | 右对齐，总宽度15 | `             张三` |

## 9. 注意事项

1. **顺序对应**：占位符和变量必须按顺序一一对应
2. **类型匹配**：尽量使用正确的占位符类型（`%d` 对应整数，`%f` 对应浮点数）
3. **宽度限制**：如果数字超过指定宽度，会原样输出，不会被截断
4. **小数精度**：小数位数会被四舍五入

## 10. Printf vs Println

| 函数 | 说明 | 示例 |
|------|------|------|
| `fmt.Println()` | 自动换行，参数之间自动加空格 | `fmt.Println("a", 10)` → `a 10` |
| `fmt.Printf()` | 不自动换行，需要手动加 `\n`，可以格式化 | `fmt.Printf("a %d\n", 10)` → `a 10` |

