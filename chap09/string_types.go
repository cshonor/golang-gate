// ç¤ºä¾‹ï¼šGo è¯­è¨€çš„å­—ç¬¦ä¸²ç±»å‹
// æ¼”ç¤ºå­—ç¬¦ä¸²å˜é‡ã€å­—ç¬¦ã€ä»£ç ç‚¹ã€ç¬¦æ–‡ï¼ˆruneï¼‰ã€å­—èŠ‚å’ŒåŸå§‹å­—ç¬¦ä¸²å­—é¢é‡

package main

import (
	"fmt"
	"unicode/utf8"
)

func main() {
	// ============================================
	// 1. å­—ç¬¦ä¸²å˜é‡çš„å®šä¹‰
	// ============================================
	fmt.Println("=== å­—ç¬¦ä¸²å˜é‡çš„å®šä¹‰ ===")

	// åŒå¼•å·ï¼šæ™®é€šå­—ç¬¦ä¸²å­—é¢é‡ï¼Œä¼šè§£æè½¬ä¹‰å­—ç¬¦
	str1 := "hello\nworld" // \n ä¼šè¢«è§£ææˆæ¢è¡Œ
	fmt.Printf("åŒå¼•å·å­—ç¬¦ä¸²: %q\n", str1)
	fmt.Println("å®é™…è¾“å‡º:")
	fmt.Print(str1)
	fmt.Println()

	// åå¼•å·ï¼šåŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ï¼ŒåŸæ ·ä¿ç•™å†…å®¹
	str2 := `hello\nworld` // \n ä¸ä¼šè¢«è§£æï¼Œç›´æ¥æ˜¾ç¤º
	fmt.Printf("åå¼•å·å­—ç¬¦ä¸²: %q\n", str2)
	fmt.Println("å®é™…è¾“å‡º:")
	fmt.Print(str2)
	fmt.Println()

	fmt.Println()

	// ============================================
	// 2. å­—ç¬¦ä¸²æ˜¯ä¸å¯ä¿®æ”¹çš„
	// ============================================
	fmt.Println("=== å­—ç¬¦ä¸²æ˜¯ä¸å¯ä¿®æ”¹çš„ ===")

	s := "hello"
	fmt.Printf("åŸå§‹å­—ç¬¦ä¸²: %s\n", s)

	// é”™è¯¯ï¼šä¸èƒ½ç›´æ¥ä¿®æ”¹å­—ç¬¦ä¸²çš„æŸä¸ªå­—ç¬¦
	// s[0] = 'H' // ç¼–è¯‘é”™è¯¯ï¼šcannot assign to s[0]

	// æ­£ç¡®ï¼šéœ€è¦ä¿®æ”¹æ—¶ï¼Œå…ˆè½¬æˆåˆ‡ç‰‡ï¼Œä¿®æ”¹åå†è½¬å›å­—ç¬¦ä¸²
	// æ–¹æ³•1ï¼šè½¬æˆå­—èŠ‚åˆ‡ç‰‡ []byteï¼ˆé€‚åˆ ASCII å­—ç¬¦ï¼‰
	b := []byte(s)
	b[0] = 'H'
	newS1 := string(b)
	fmt.Printf("ä¿®æ”¹åï¼ˆå­—èŠ‚åˆ‡ç‰‡ï¼‰: %s\n", newS1)
	fmt.Printf("åŸå§‹å­—ç¬¦ä¸²æœªå˜: %s\n", s) // åŸå­—ç¬¦ä¸²ä¸å˜

	// æ–¹æ³•2ï¼šè½¬æˆ rune åˆ‡ç‰‡ []runeï¼ˆé€‚åˆ Unicode å­—ç¬¦ï¼Œå¦‚ä¸­æ–‡ï¼‰
	s2 := "hello ä¸­å›½"
	r := []rune(s2)
	r[0] = 'H'
	r[6] = 'å' // ä¿®æ”¹"ä¸­"ä¸º"å"
	newS2 := string(r)
	fmt.Printf("ä¿®æ”¹åï¼ˆruneåˆ‡ç‰‡ï¼‰: %s\n", newS2)
	fmt.Printf("åŸå§‹å­—ç¬¦ä¸²æœªå˜: %s\n", s2) // åŸå­—ç¬¦ä¸²ä¸å˜

	fmt.Println()

	// ============================================
	// 3. å­—ç¬¦ä¸²æ‹¼æ¥
	// ============================================
	fmt.Println("=== å­—ç¬¦ä¸²æ‹¼æ¥ ===")

	a := "hello"
	b_str := "world"
	// å­—ç¬¦ä¸²ç›¸åŠ ä¼šç”Ÿæˆæ–°çš„å­—ç¬¦ä¸²ï¼Œå¿…é¡»ç”¨æ–°å˜é‡æ¥æ”¶
	c := a + b_str
	fmt.Printf("a = %s\n", a)
	fmt.Printf("b = %s\n", b_str)
	fmt.Printf("c = a + b = %s\n", c)
	fmt.Printf("a å’Œ b æœªå˜: a=%s, b=%s\n", a, b_str)

	// å¤šæ¬¡æ‹¼æ¥
	result := "Go" + " " + "è¯­è¨€" + " " + "å¾ˆæ£’"
	fmt.Printf("å¤šæ¬¡æ‹¼æ¥: %s\n", result)

	fmt.Println()

	// ============================================
	// 4. å­—ç¬¦ã€ä»£ç ç‚¹ã€ç¬¦æ–‡ï¼ˆruneï¼‰ã€å­—èŠ‚çš„æ¦‚å¿µ
	// ============================================
	fmt.Println("=== å­—ç¬¦ã€ä»£ç ç‚¹ã€ç¬¦æ–‡ï¼ˆruneï¼‰ã€å­—èŠ‚ ===")

	// å­—ç¬¦ï¼šæˆ‘ä»¬çœ‹åˆ°çš„å•ä¸ªæ–‡å­—å•ä½ï¼Œå¦‚ "A"ã€"ä¸­"ã€"!"
	// ä»£ç ç‚¹ï¼šå­—ç¬¦åœ¨ Unicode å­—ç¬¦é›†é‡Œçš„å”¯ä¸€ç¼–å·ï¼ˆåå…­è¿›åˆ¶è¡¨ç¤ºï¼Œå¦‚ U+0041ï¼‰
	// ç¬¦æ–‡ï¼ˆruneï¼‰ï¼šGo è¯­è¨€é‡Œè¡¨ç¤ºå•ä¸ª Unicode ä»£ç ç‚¹çš„ç±»å‹ï¼ˆint32 çš„åˆ«åï¼‰
	// å­—èŠ‚ï¼šè®¡ç®—æœºå­˜å‚¨çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªå­—èŠ‚ = 8 ä½äºŒè¿›åˆ¶

	// ç¤ºä¾‹ï¼šå­—ç¬¦ "A"
	charA := 'A'
	fmt.Printf("å­—ç¬¦ 'A' çš„ rune å€¼ï¼ˆåè¿›åˆ¶ï¼‰: %d\n", charA)
	fmt.Printf("å­—ç¬¦ 'A' çš„ Unicode ä»£ç ç‚¹: U+%04X\n", charA)
	fmt.Printf("å­—ç¬¦ 'A' çš„ UTF-8 å­—èŠ‚: % x\n", []byte("A"))

	// ç¤ºä¾‹ï¼šå­—ç¬¦ "ä¸­"
	charZhong := 'ä¸­'
	fmt.Printf("å­—ç¬¦ 'ä¸­' çš„ rune å€¼ï¼ˆåè¿›åˆ¶ï¼‰: %d\n", charZhong)
	fmt.Printf("å­—ç¬¦ 'ä¸­' çš„ Unicode ä»£ç ç‚¹: U+%04X\n", charZhong)
	fmt.Printf("å­—ç¬¦ 'ä¸­' çš„ UTF-8 å­—èŠ‚: % x\n", []byte("ä¸­"))

	// ç¤ºä¾‹ï¼šè¡¨æƒ…ç¬¦å· "ğŸ˜Š"
	charEmoji := 'ğŸ˜Š'
	fmt.Printf("è¡¨æƒ… 'ğŸ˜Š' çš„ rune å€¼ï¼ˆåè¿›åˆ¶ï¼‰: %d\n", charEmoji)
	fmt.Printf("è¡¨æƒ… 'ğŸ˜Š' çš„ Unicode ä»£ç ç‚¹: U+%04X\n", charEmoji)
	fmt.Printf("è¡¨æƒ… 'ğŸ˜Š' çš„ UTF-8 å­—èŠ‚: % x\n", []byte("ğŸ˜Š"))

	fmt.Println()

	// ============================================
	// 5. rune ç±»å‹çš„ä½¿ç”¨
	// ============================================
	fmt.Println("=== rune ç±»å‹çš„ä½¿ç”¨ ===")

	// rune æ˜¯ int32 çš„åˆ«åï¼Œç”¨æ¥å­˜å‚¨ Unicode ä»£ç ç‚¹
	// rune åªèƒ½æ¥æ”¶ï¼š
	// 1. å•ä¸ªå­—ç¬¦å­—é¢é‡ï¼ˆç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼‰
	// 2. æ•´æ•°ï¼ˆå¿…é¡»æ˜¯æœ‰æ•ˆçš„ Unicode ä»£ç ç‚¹æ•°å€¼ï¼Œ0 åˆ° 0x10FFFFï¼‰

	// æ–¹å¼1ï¼šç›´æ¥èµ‹å­—ç¬¦å­—é¢é‡
	var r1 rune = 'A'
	fmt.Printf("r1 = 'A': %c (ä»£ç ç‚¹: U+%04X)\n", r1, r1)

	var r2 rune = 'ä¸­'
	fmt.Printf("r2 = 'ä¸­': %c (ä»£ç ç‚¹: U+%04X)\n", r2, r2)

	// æ–¹å¼2ï¼šèµ‹æ•´æ•°ï¼ˆåè¿›åˆ¶ï¼‰
	var r3 rune = 9960 // åè¿›åˆ¶ï¼Œå¯¹åº” U+26E8ï¼ˆâš ï¸ï¼‰
	fmt.Printf("r3 = 9960: %c (ä»£ç ç‚¹: U+%04X)\n", r3, r3)

	// æ–¹å¼3ï¼šèµ‹æ•´æ•°ï¼ˆåå…­è¿›åˆ¶ï¼‰
	var r4 rune = 0x26E8 // åå…­è¿›åˆ¶ï¼Œå’Œ 9960 ç­‰ä»·
	fmt.Printf("r4 = 0x26E8: %c (ä»£ç ç‚¹: U+%04X)\n", r4, r4)

	// æ–¹å¼4ï¼šä½¿ç”¨ Unicode è½¬ä¹‰
	var r5 rune = '\u4E2D' // Unicode è½¬ä¹‰ï¼Œå¯¹åº”"ä¸­"
	fmt.Printf("r5 = '\\u4E2D': %c (ä»£ç ç‚¹: U+%04X)\n", r5, r5)

	fmt.Println()

	// ============================================
	// 6. éå†å­—ç¬¦ä¸²è·å–ä»£ç ç‚¹
	// ============================================
	fmt.Println("=== éå†å­—ç¬¦ä¸²è·å–ä»£ç ç‚¹ ===")

	s3 := "ä¸­AğŸ˜Š"
	fmt.Printf("å­—ç¬¦ä¸²: %s\n", s3)

	// æ–¹å¼1ï¼šfor range éå†ï¼ˆæ¨èï¼ŒæŒ‰ rune éå†ï¼‰
	fmt.Println("for range éå†ï¼ˆæŒ‰ runeï¼‰:")
	for i, r := range s3 {
		fmt.Printf("  ä½ç½® %d: %c (ä»£ç ç‚¹: U+%04X, åè¿›åˆ¶: %d)\n", i, r, r, r)
	}

	// æ–¹å¼2ï¼šæŒ‰å­—èŠ‚éå†
	fmt.Println("æŒ‰å­—èŠ‚éå†:")
	for i := 0; i < len(s3); i++ {
		fmt.Printf("  å­—èŠ‚ä½ç½® %d: 0x%02X\n", i, s3[i])
	}

	// æ–¹å¼3ï¼šä½¿ç”¨ utf8.DecodeRuneInString é€ä¸ªè§£ç 
	fmt.Println("ä½¿ç”¨ utf8.DecodeRuneInString è§£ç :")
	remaining := s3
	pos := 0
	for len(remaining) > 0 {
		r, size := utf8.DecodeRuneInString(remaining)
		fmt.Printf("  ä½ç½® %d: %c (ä»£ç ç‚¹: U+%04X, å­—èŠ‚æ•°: %d)\n", pos, r, r, size)
		remaining = remaining[size:]
		pos += size
	}

	fmt.Println()

	// ============================================
	// 7. åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆåå¼•å·ï¼‰
	// ============================================
	fmt.Println("=== åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆåå¼•å·ï¼‰===")

	// åå¼•å·çš„ç‰¹ç‚¹ï¼š
	// 1. åŸæ ·ä¿ç•™å†…å®¹ï¼Œä¸è§£æè½¬ä¹‰å­—ç¬¦
	// 2. å¯ä»¥å†™å¤šè¡Œæ–‡æœ¬
	// 3. é€‚åˆå†™æ­£åˆ™è¡¨è¾¾å¼ã€HTMLã€SQLã€é…ç½®æ–‡æœ¬ç­‰

	// ç¤ºä¾‹1ï¼šè½¬ä¹‰å­—ç¬¦ä¸ä¼šè¢«è§£æ
	raw1 := `hello\nworld\tæµ‹è¯•`
	fmt.Printf("åå¼•å·å­—ç¬¦ä¸²: %q\n", raw1)
	fmt.Println("å®é™…è¾“å‡º:")
	fmt.Print(raw1)
	fmt.Println()

	// ç¤ºä¾‹2ï¼šå¤šè¡Œæ–‡æœ¬
	raw2 := `è¿™æ˜¯ç¬¬ä¸€è¡Œ
è¿™æ˜¯ç¬¬äºŒè¡Œ
    å¸¦ç¼©è¿›çš„ç¬¬ä¸‰è¡Œ`
	fmt.Println("å¤šè¡Œæ–‡æœ¬:")
	fmt.Print(raw2)
	fmt.Println()

	// ç¤ºä¾‹3ï¼šåŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚æ­£åˆ™è¡¨è¾¾å¼ï¼‰
	regex := `\d+\.\d+` // åŒ¹é…å°æ•°çš„æ­£åˆ™ï¼Œä¸éœ€è¦è½¬ä¹‰
	fmt.Printf("æ­£åˆ™è¡¨è¾¾å¼: %s\n", regex)

	// ç¤ºä¾‹4ï¼šåŒ…å«å ä½ç¬¦ï¼ˆä¸ä¼šè¢«è§£æï¼‰
	template := `ä»Šå¤©æ¸©åº¦%våº¦ï¼Œæ¹¿åº¦%v%%`
	fmt.Printf("æ¨¡æ¿å­—ç¬¦ä¸²: %s\n", template)
	// å¦‚æœè¦ç”¨å ä½ç¬¦ï¼Œéœ€è¦ä¼ ç»™ fmt.Printf
	fmt.Printf(template, 25, 60)
	fmt.Println()

	fmt.Println()

	// ============================================
	// 8. fmt.Printf å’Œ fmt.Println çš„åŒºåˆ«
	// ============================================
	fmt.Println("=== fmt.Printf å’Œ fmt.Println çš„åŒºåˆ« ===")

	// fmt.Printfï¼šæ”¯æŒå ä½ç¬¦ï¼Œéœ€è¦æ‰‹åŠ¨åŠ æ¢è¡Œç¬¦ \n
	name := "å°æ˜"
	age := 25
	fmt.Printf("Printf: ä½ å¥½ï¼Œ%sï¼Œå¹´é¾„ %d\n", name, age)

	// fmt.Printlnï¼šä¸æ”¯æŒå ä½ç¬¦ï¼Œè‡ªåŠ¨åŠ æ¢è¡Œï¼Œå¤šä¸ªå‚æ•°ç”¨ç©ºæ ¼åˆ†éš”
	fmt.Println("Println: ä½ å¥½ï¼Œ", name, "ï¼Œå¹´é¾„", age)

	// åœ¨ Println ä¸­ä½¿ç”¨åå¼•å·
	fmt.Println("Println ä½¿ç”¨åå¼•å·:")
	fmt.Println(`hello\nworld`) // \n ä¸ä¼šè¢«è§£æï¼Œç›´æ¥æ˜¾ç¤º

	// åœ¨ Printf ä¸­ä½¿ç”¨åå¼•å·ï¼ˆä½œä¸ºæ ¼å¼å­—ç¬¦ä¸²ï¼‰
	fmt.Println("Printf ä½¿ç”¨åå¼•å·ï¼ˆä½œä¸ºæ ¼å¼å­—ç¬¦ä¸²ï¼‰:")
	fmt.Printf(`ä»Šå¤©æ¸©åº¦%våº¦\n`, 25) // %v ä¼šè¢«è§£æï¼Œ\n ä¹Ÿä¼šè¢«è§£ææˆæ¢è¡Œ

	// åœ¨ Printf ä¸­ä½¿ç”¨åå¼•å·ï¼ˆä½œä¸ºå€¼å‚æ•°ï¼‰
	fmt.Println("Printf ä½¿ç”¨åå¼•å·ï¼ˆä½œä¸ºå€¼å‚æ•°ï¼‰:")
	fmt.Printf("æ¶ˆæ¯: %s\n", `hello\nworld`) // åå¼•å·å­—ç¬¦ä¸²é‡Œçš„ \n ä¸ä¼šè§£æ

	fmt.Println()

	// ============================================
	// 9. åŒå¼•å·ã€å•å¼•å·ã€åå¼•å·çš„åŒºåˆ«
	// ============================================
	fmt.Println("=== åŒå¼•å·ã€å•å¼•å·ã€åå¼•å·çš„åŒºåˆ« ===")

	// åŒå¼•å·ï¼šæ™®é€šå­—ç¬¦ä¸²å­—é¢é‡ï¼Œä¼šè§£æè½¬ä¹‰å­—ç¬¦
	strDouble := "hello\nworld" // \n ä¼šè¢«è§£ææˆæ¢è¡Œ
	fmt.Printf("åŒå¼•å·: %q\n", strDouble)
	fmt.Print("å®é™…è¾“å‡º: ")
	fmt.Print(strDouble)
	fmt.Println()

	// å•å¼•å·ï¼šå­—ç¬¦å­—é¢é‡ï¼Œå¯¹åº”å•ä¸ª rune
	charSingle := 'A' // å•ä¸ªå­—ç¬¦ï¼Œç±»å‹æ˜¯ rune
	fmt.Printf("å•å¼•å·: %c (ç±»å‹: %T, å€¼: %d)\n", charSingle, charSingle, charSingle)

	// åå¼•å·ï¼šåŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ï¼ŒåŸæ ·ä¿ç•™å†…å®¹
	strBacktick := `hello\nworld` // \n ä¸ä¼šè¢«è§£æ
	fmt.Printf("åå¼•å·: %q\n", strBacktick)
	fmt.Print("å®é™…è¾“å‡º: ")
	fmt.Print(strBacktick)
	fmt.Println()

	fmt.Println()

	// ============================================
	// 10. å­—ç¬¦ä¸²å’Œå­—èŠ‚çš„å…³ç³»
	// ============================================
	fmt.Println("=== å­—ç¬¦ä¸²å’Œå­—èŠ‚çš„å…³ç³» ===")

	// Go çš„ string åº•å±‚å­˜å‚¨çš„æ˜¯ UTF-8 ç¼–ç çš„å­—èŠ‚åºåˆ—
	s4 := "ä¸­A"
	fmt.Printf("å­—ç¬¦ä¸²: %s\n", s4)
	fmt.Printf("å­—ç¬¦ä¸²é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰: %d\n", len(s4))
	fmt.Printf("å­—ç¬¦ä¸²é•¿åº¦ï¼ˆrune æ•°ï¼‰: %d\n", len([]rune(s4)))
	fmt.Printf("UTF-8 å­—èŠ‚åºåˆ—: % x\n", []byte(s4))

	// æ¯ä¸ªå­—ç¬¦çš„å­—èŠ‚æ•°
	for _, r := range s4 {
		bytes := []byte(string(r))
		fmt.Printf("å­—ç¬¦ '%c' (U+%04X) å  %d ä¸ªå­—èŠ‚: % x\n", r, r, len(bytes), bytes)
	}

	fmt.Println()

	// ============================================
	// 11. å­—ç¬¦ä¸²æ¯”è¾ƒ
	// ============================================
	fmt.Println("=== å­—ç¬¦ä¸²æ¯”è¾ƒ ===")

	s5 := "hello"
	s6 := "hello"
	s7 := "world"

	fmt.Printf("s5 = %q\n", s5)
	fmt.Printf("s6 = %q\n", s6)
	fmt.Printf("s7 = %q\n", s7)
	fmt.Printf("s5 == s6: %t\n", s5 == s6)
	fmt.Printf("s5 == s7: %t\n", s5 == s7)

	fmt.Println()

	// ============================================
	// 12. æ€»ç»“
	// ============================================
	fmt.Println("=== æ€»ç»“ ===")
	fmt.Println("1. å­—ç¬¦ä¸²å˜é‡ï¼ˆstringï¼‰æ˜¯ä¸å¯ä¿®æ”¹çš„")
	fmt.Println("2. åŒå¼•å·ï¼šæ™®é€šå­—ç¬¦ä¸²ï¼Œä¼šè§£æè½¬ä¹‰å­—ç¬¦")
	fmt.Println("3. å•å¼•å·ï¼šå­—ç¬¦å­—é¢é‡ï¼Œå¯¹åº”å•ä¸ª rune")
	fmt.Println("4. åå¼•å·ï¼šåŸå§‹å­—ç¬¦ä¸²ï¼ŒåŸæ ·ä¿ç•™å†…å®¹ï¼Œä¸è§£æè½¬ä¹‰å­—ç¬¦")
	fmt.Println("5. å­—ç¬¦ä¸²æ‹¼æ¥ç”¨ +ï¼Œä¼šç”Ÿæˆæ–°å­—ç¬¦ä¸²")
	fmt.Println("6. ä¿®æ”¹å­—ç¬¦ä¸²éœ€è¦å…ˆè½¬æˆåˆ‡ç‰‡ï¼Œä¿®æ”¹åå†è½¬å›å­—ç¬¦ä¸²")
	fmt.Println("7. rune ç±»å‹å­˜å‚¨ Unicode ä»£ç ç‚¹ï¼Œæ˜¯ int32 çš„åˆ«å")
	fmt.Println("8. ä»£ç ç‚¹æ˜¯å­—ç¬¦åœ¨ Unicode å­—ç¬¦é›†é‡Œçš„å”¯ä¸€ç¼–å·")
	fmt.Println("9. å­—ç¬¦ä¸²åº•å±‚å­˜å‚¨çš„æ˜¯ UTF-8 ç¼–ç çš„å­—èŠ‚åºåˆ—")
	fmt.Println("10. fmt.Printf æ”¯æŒå ä½ç¬¦ï¼Œfmt.Println ä¸æ”¯æŒå ä½ç¬¦")
}

